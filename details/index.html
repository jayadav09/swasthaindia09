<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SwasthaIndia â€“ Affordable Blood Tests & Health Packages in Delhi</title>
<!-- âœ… Canonical link -->
  <link rel="canonical" href="https://swasthaindia.in/" />
  <meta name="description" content="SwasthaIndia provides home blood test services, affordable diagnostic packages, and surgical supplies in Delhi. Care at your doorstep.">
  <meta name="keywords" content="blood test at home, affordable blood test, SwasthaIndia, diagnostic, surgical items, health checkups, Delhi">
  <meta name="author" content="SwasthaIndia">
  <meta property="og:title" content="SwasthaIndia â€“ Blood Test & Surgical Services in Delhi">
  <meta property="og:description" content="Care at your doorstep â€“ book blood tests online or shop surgical items. Trusted healthcare service in Delhi.">
  <meta property="og:url" content="https://swasthaindia.in/">
  <meta property="og:type" content="website">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
   <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f5fcff;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background: white;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      position: sticky;
      top: 0;
      z-index: 1000;
      width: 100%;
    }
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 32px;
      background: #fff;
      flex-wrap: wrap;
      position: relative;
    }
    .logo img 
   { height: 48px; }

    .hamburger {
      font-size: 1.8rem;
      color: #007c91;
      cursor: pointer;
      display: none;
      position: absolute;
      right: 32px;
    }
    .nav-links {
      display: flex;
      gap: 24px;
      align-items: center;
      margin-right: 12px;
    }
    .nav-links a {
      text-decoration: none;
      color: #007c91;
      font-weight: 600;
      font-size: 16px;
      transition: color 0.3s;
    }
    .nav-links 
     a:hover { color: #00bfa5; }
    @media (max-width: 768px) {
      .hamburger { display: block; }
      .nav-links {
        flex-direction: column;
        display: none;
        background: white;
        padding: 16px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        position: absolute;
        top: 70px;
        right: 20px;
        width: 200px;
        border-radius: 8px;
        z-index: 9999;
      }
      .nav-links.active { display: flex; }
    }

    .sticky-header {
      position: sticky;
      top: 0;
      background: white;
      z-index: 500;
      padding: 12px 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    .search-container { display: flex; justify-content: center; margin-bottom: 10px; }
    .search-box {
      width: 100%;
      max-width: 600px;
      padding: 14px 18px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 17px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    #suggestions {
      max-width: 600px;
      margin: 0 auto;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 0 0 10px 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.06);
      display: none;
      position: relative;
      z-index: 1000;
    }
    .suggestion {
      padding: 12px 18px;
      border-bottom: 1px solid #eee;
      cursor: pointer;
    }
    .suggestion:hover { background: #f5faff; }

    .details-card {
      max-width: 700px;
      margin: 20px auto;
      background: white;
      padding: 28px;
      border-radius: 16px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    }
    .details-card h2 { margin-top: 0; font-size: 24px; color: #222; }
    .price-line { font-size: 17px; margin: 12px 0; }
    .price-line s { color: #999; }
    .price-line strong { color: #d32f2f; margin-left: 10px; }
    .discount-tag { color: #2e7d32; font-weight: bold; margin-left: 12px; }
    .book-btn {
      display: inline-block;
      margin-top: 24px;
      background: #1976d2;
      color: white;
      padding: 12px 24px;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 500;
    }
    .book-btn:hover { background: #0d47a1; }

    .test-details {
      max-width: 700px;
      margin: 24px auto;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 12px;
      padding: 20px;
    }

    .loader-spinner {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 40px 0;
    }
    .loader-spinner::after {
      content: "";
      width: 50px;
      height: 50px;
      border: 6px solid #ccc;
      border-top-color: #007bff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
#suggestions {
  max-width: 600px;
  margin: 0 auto;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 0 0 10px 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.06);
  display: none;
  position: relative;
  z-index: 1000;
  overflow: hidden;
  opacity: 0;
  transform: translateY(-10px);
  transition: all 0.3s ease;
}
#suggestions.show {
  display: block;
  opacity: 1;
  transform: translateY(0);
}

    @keyframes spin { to { transform: rotate(360deg); } }

    footer {
      background: #222;
      color: #ccc;
      text-align: center;
      padding: 20px;
      font-size: 14px;
      margin-top: auto;
    }
footer .social-icons {
      margin-top: 8px;
    }
    footer .social-icons a {
      margin: 0 10px;
      display: inline-block;
    }
    footer .social-icons img {
      width: 24px;
      height: 24px;
      vertical-align: middle;
    }
/* WhatsApp Floating Button */
.wa-float {
  position: fixed;
  bottom: 20px;
  right: 20px;   /* âœ… Ensure it's on the right */
  width: 60px;
  height: 60px;
  z-index: 1000;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #25d366;
  border-radius: 50%;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}
.wa-float img {
  width: 32px;
  height: 32px;
}
/* Add smooth fade animation */
.fade-out {
  animation: fadeOut 0.3s forwards;
}
.fade-in {
  animation: fadeIn 0.3s forwards;
}

@keyframes fadeOut {
  from { opacity: 1; transform: scale(1); }
  to { opacity: 0; transform: scale(0.98); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(1.02); }
  to { opacity: 1; transform: scale(1); }
}
  </style>
</head>
<body>

<header>
  <div class="topbar">
    <a href="/" class="logo">
      <img src="/logo.png" alt="SwasthaIndia Logo" />
    </a>
    <nav class="nav-links" id="navLinks">
      <a href="/">Home</a>
      <a href="/my-packages/">Packages</a>
      <a href="/book-test/">Book Test</a>
      <a href="/contact/">Contact</a>
      <a href="/about/">About</a>
    </nav>
    <div class="hamburger" id="hamburger"><i class="fas fa-bars"></i></div>
  </div>
</header>

<div class="sticky-header">
  <div class="search-container">
    <input type="text" id="searchInput" class="search-box" placeholder="Search test or package..." />
  </div>
  <div id="suggestions"></div>
</div>

<main>
  <div id="detailsContainer">
    <div class="loader-spinner"></div>
  </div>
</main>

<!-- WhatsApp Floating Button -->
<a href="https://wa.me/919911990556" class="wa-float" target="_blank">
  <img src="https://img.icons8.com/color/48/000000/whatsapp--v1.png" alt="Chat on WhatsApp" />
</a>

 <footer>
    &copy; 2025 SwasthaIndia. All rights reserved. | Care at your doorstep.<br/>
    E-6/158 Sangam Vihar, New Delhi - 80 | ðŸ“ž 9911990556 | ðŸ“§ info@swasthaindia.in
    <div class="social-icons">
      <a href="https://facebook.com" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook"></a>
      <a href="https://instagram.com" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="Instagram"></a>
      <a href="https://twitter.com" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter"></a>
    </div>
  </footer>

<script>
  const testAPI = "https://script.google.com/macros/s/AKfycbx86AqCtPYZkCRGiMCl-XYWbC6UctZCQnbd7CbPloJon6y9g-jzVKH2L04-GUVwU4t7/exec";
  const packageAPI = "https://script.google.com/macros/s/AKfycbxYeKIG1T6qWOUjobP8Ou-qxYJxuOTfVVSSHkV6qQT6bQg8ltL4HsHfQqur6VnyGSRgFQ/exec";

  let allData = [];
  let testDetails = [];
  let bookTestDetails = [];

  async function fetchData() {
    const [testRes, packageRes] = await Promise.all([fetch(testAPI), fetch(packageAPI)]);
    const testData = await testRes.json();
    const packageData = await packageRes.json();

    const tests = (testData.tests || []).map(t => ({
      type: 'Test',
      name: t["Test Name"],
      data: t
    }));

    const packages = (packageData.packages || []).map(p => ({
      type: 'Package',
      name: p["Package"],
      data: p
    }));

    allData = [...tests, ...packages];
    bookTestDetails = testData.tests || [];
    testDetails = packageData.tests || [];
  }

  function renderDetails(item) {
    const container = document.getElementById("detailsContainer");
    
    // Clear old content with fade-out
    container.classList.add("fade-out");
    setTimeout(() => {
      if (!item) {
        container.innerHTML = "<p style='text-align:center;'>No details found.</p>";
      } else {
        const data = item.data;
        const name = data["Test Name"] || data["Package"];
        const mrp = parseFloat(data["MRP"] || 0);
        const offer = parseFloat(data["Offer Price"] || data["Offer_Price"] || 0);
        const discount = mrp && offer ? Math.round(((mrp - offer) / mrp) * 100) : 0;
        const bookLink = data["Booking Link"] || "#";

        const fieldsOrder = ["Tests Included", "No. of Parameters", "Sample Type", "Fasting Required", "Report Time", "Collection Timing", "Home Collection", "Description"];
        const fields = fieldsOrder.map(k => data[k] ? `<p><strong>${k}:</strong> ${data[k]}</p>` : "").join('');

        let html = `
          <div class="details-card">
            <h2>${name}</h2>
            <div class="price-line">
              MRP: <s>â‚¹${mrp}</s> <strong>â‚¹${offer}</strong> 
              <span class="discount-tag">(${discount}% OFF)</span>
            </div>
            ${fields}
            <a class="book-btn" href="${bookLink}" target="_blank">Book Now</a>
          </div>
        `;

        // For Packages (Sheet2)
        if (item.type === "Package") {
          const includedTests = (data["Tests Included"] || "").split(",").map(t => t.trim().toLowerCase());
          const breakdown = testDetails.filter(t => includedTests.includes((t["Test Name"] || "").toLowerCase()));

          if (breakdown.length > 0) {
            html += `<div class="test-details"><h3>Test Details:</h3>`;
            breakdown.forEach(test => {
              const parameters = test.Parameters 
                ? `<ul>${test.Parameters.split(",").map(p => `<li>${p.trim()}</li>`).join("")}</ul>` 
                : "<i>No parameters listed</i>";
              
              html += `
                <div class="test-box">
                  <h4>${test["Test Name"]}</h4>
                  ${test.Description ? `<p><strong>Description:</strong> ${test.Description}</p>` : ""}
                  ${test.Purpose ? `<p><strong>Purpose:</strong> ${test.Purpose}</p>` : ""}
                  <p><strong>Parameters:</strong></p>
                  ${parameters}
                </div>`;
            });
            html += `</div>`;
          }
        }

        // For Tests (Sheet2)
        if (item.type === "Test") {
          const testName = (data["Test Name"] || "").toLowerCase();
          const details = bookTestDetails.find(t => (t["Test Name"] || "").toLowerCase() === testName);

          if (details) {
            const parameters = details.Parameters 
              ? `<ul>${details.Parameters.split(",").map(p => `<li>${p.trim()}</li>`).join("")}</ul>` 
              : "<i>No parameters listed</i>";
            
            html += `
              <div class="test-details">
                <h3>More Details:</h3>
                <div class="test-box">
                  ${details.Description ? `<p><strong>Description:</strong> ${details.Description}</p>` : ""}
                  ${details.Purpose ? `<p><strong>Purpose:</strong> ${details.Purpose}</p>` : ""}
                  <p><strong>Parameters:</strong></p>
                  ${parameters}
                </div>
              </div>
            `;
          }
        }

        container.innerHTML = html;
      }

      // Apply fade-in after content update
      container.classList.remove("fade-out");
      container.classList.add("fade-in");
    }, 300);
  }

  document.addEventListener("DOMContentLoaded", async () => {
    const container = document.getElementById("detailsContainer");
    container.innerHTML = `<div class="loader-spinner"></div>`;

    await fetchData();

    const queryName = new URLSearchParams(window.location.search).get("name")?.toLowerCase();
    const result = allData.find(item => item.name?.toLowerCase() === queryName);
    renderDetails(result);

    // Search logic
    const input = document.getElementById("searchInput");
    const suggestionsBox = document.getElementById("suggestions");

    input.addEventListener("input", e => {
      document.getElementById("detailsContainer").innerHTML = "";

      const q = e.target.value.toLowerCase();
      if (!q) {
        suggestionsBox.innerHTML = "";
        suggestionsBox.style.display = "none";
        return;
      }
      const matches = allData.filter(item => item.name?.toLowerCase().includes(q));
      suggestionsBox.innerHTML = matches.map(item => `<div class='suggestion' data-name="${item.name}">${item.name}</div>`).join('');
      if (matches.length) {
  suggestionsBox.classList.add("show");
} else {
  suggestionsBox.classList.remove("show");
}

    });

    suggestionsBox.addEventListener("click", e => {
      if (e.target.classList.contains("suggestion")) {
        const name = e.target.dataset.name.toLowerCase();
        const match = allData.find(item => item.name.toLowerCase() === name);

        // Clear search bar & suggestions + show new result with animation
        input.value = "";
        suggestionsBox.classList.remove("show");
        renderDetails(match);
      }
    });
  });
</script>



</body>
</html>
